module AmaltheaToAscet_All;
create OUT : Ascet from IN : Amalthea;

rule ComponentContainer2AscetModule {
  from cc : Amalthea!ComponentContainer
  to   am : Ascet!AscetModule (
    tasks <- cc.tasks->collect(t | thisModule.Task2SoftwareTask(t))
  )
}

rule TaskRoot2SoftwareTask {
  from t : Amalthea!Task (
    t.refImmediateComposite().oclIsUndefined()
  )
  to   st : Ascet!SoftwareTask (
    name <- t.name
  )
}

rule Task2SoftwareTask {
  from t : Amalthea!Task
  to   st : Ascet!SoftwareTask (
    name <- t.name
  )
}
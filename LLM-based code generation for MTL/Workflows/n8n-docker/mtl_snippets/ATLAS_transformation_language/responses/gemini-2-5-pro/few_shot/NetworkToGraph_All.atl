module NetworkToGraph_All;
create OUT : Graph from IN : Network;

unique lazy rule Component2Entity {
	from
		s : Network!Component
	to
		t : Graph!Entity (
			name <- s.name
		)
}

rule System2Root {
	from
		s : Network!System
	to
		t : Graph!Root (
			entities <- s.components->collect(c | thisModule.Component2Entity(c))
		)
}

rule Link2Link {
	from
		s : Network!Link
	to
		t : Graph!Link (
			Entitys <- s.components->collect(c | thisModule.Component2Entity(c))
		)
}
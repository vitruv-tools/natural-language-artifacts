import "http://vitruv.tools/methodologisttemplate/network" as network
import "http://vitruv.tools/methodologisttemplate/graph" as graph
import org.eclipse.emf.ecore.util.EcoreUtil

reactions: networkToGraph 
in reaction to changes in network 
execute actions in graph {
	reaction ComponentDeleted {
		after element network::Component deleted
		call deleteEntity(change.affectedEObject)
	}
	routine deleteEntity(network::Component component) {
		match {
			val entity = retrieve graph::Entity corresponding to component
		}
		update {
			EcoreUtil.delete(entity)
			removeCorrespondence(component, entity)
		}
	}
}
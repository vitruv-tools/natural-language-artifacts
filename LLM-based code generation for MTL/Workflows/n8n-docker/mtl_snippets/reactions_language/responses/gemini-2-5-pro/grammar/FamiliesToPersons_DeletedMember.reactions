import "http://vitruv.tools/methodologisttemplate/families" as families
import "http://vitruv.tools/methodologisttemplate/persons" as persons
reactions: familiesToPersons 
in reaction to changes in families 
execute actions in persons {
	reaction DeletedMember {
		after element families::Member deleted
		call deletePerson(change.oldValue as families::Member)
	}
	routine deletePerson(families::Member deletedMember) {
		match {
			val personToDelete = retrieve persons::Person corresponding to deletedMember
			val family = deletedMember.eContainer as families::Family
		}
		update {
			delete personToDelete
		}
	}
}
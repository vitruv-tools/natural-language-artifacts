transformation familiesToPersons
metamodels {
	families: "http://vitruv.tools/methodologisttemplate/families",
	persons: "http://vitruv.tools/methodologisttemplate/persons"
}
import families.Family
import families.Member
import persons.Person
reaction DeletedMember {
	triggers {
		after delete Member deletedMember
	}
	actions {
		call deletePerson(deletedMember)
	}
}
routine deletePerson(Member deletedMember) {
	update persons {
		val Person personToDelete = getCorrespondence(deletedMember)
		val Family family = deletedMember.eContainer as Family
		delete personToDelete
		clearAllCorrespondences(deletedMember, personToDelete, family)
	}
}
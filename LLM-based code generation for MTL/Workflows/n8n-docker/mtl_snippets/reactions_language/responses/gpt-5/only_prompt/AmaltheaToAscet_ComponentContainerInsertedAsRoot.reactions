import metamodel "http://vitruv.tools/methodologisttemplate/amalthea" as amalthea
import metamodel "http://vitruv.tools/methodologisttemplate/ascet" as ascet
transformation amaltheaToAscet {
reaction ComponentContainerInsertedAsRoot {
on inserted root cc: amalthea::ComponentContainer
guard { not exists correspondence cc -> ascet::AscetModule }
call createAndRegisterRootComponentContainer(cc)
}
routine createAndRegisterRootComponentContainer(cc: amalthea::ComponentContainer) {
guard { not exists correspondence cc -> ascet::AscetModule }
create { module: ascet::AscetModule }
persist { module at "ascet/Root.ascet" }
correspondence { cc <-> module }
}
}